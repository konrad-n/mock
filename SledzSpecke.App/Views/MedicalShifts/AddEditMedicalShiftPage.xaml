<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SledzSpecke.App.Views.MedicalShifts.AddEditMedicalShiftPage"
             Title="{Binding Title}">
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            <!-- Wybór stażu -->
            <Label Text="Staż:" FontAttributes="Bold" />
            <Picker ItemsSource="{Binding AvailableInternships}" 
                    SelectedItem="{Binding SelectedInternship}"
                    ItemDisplayBinding="{Binding DisplayName}" />

            <!-- Data dyżuru -->
            <Label Text="Data dyżuru:" FontAttributes="Bold" />
            <DatePicker Date="{Binding Date}" Format="D" />

            <!-- Czas trwania -->
            <Label Text="Czas trwania dyżuru:" FontAttributes="Bold" />
            <Grid ColumnDefinitions="*, 20, *">
                <VerticalStackLayout Grid.Column="0">
                    <Label Text="Godziny:" />
                    <Entry Text="{Binding Hours}" Keyboard="Numeric" />
                </VerticalStackLayout>

                <VerticalStackLayout Grid.Column="2">
                    <Label Text="Minuty:" />
                    <Entry Text="{Binding Minutes}" Keyboard="Numeric" />
                </VerticalStackLayout>
            </Grid>

            <!-- Miejsce dyżuru -->
            <Label Text="Miejsce dyżuru:" FontAttributes="Bold" />
            <Entry Text="{Binding Location}" Placeholder="Oddział/komórka organizacyjna" />

            <!-- Rok szkolenia -->
            <Label Text="Rok szkolenia:" FontAttributes="Bold" />
            <Picker ItemsSource="{Binding YearOptions}" SelectedItem="{Binding Year}" />

            <!-- Pola specyficzne dla starej wersji SMK -->
            <StackLayout IsVisible="{Binding IsOldSmkVersion}">
                <BoxView HeightRequest="1" Color="LightGray" Margin="0,10" />
                <Label Text="Pola dodatkowe (Stara wersja SMK):" FontAttributes="Bold" TextColor="{StaticResource Primary}" />

                <!-- Tu dodajemy pola specyficzne dla starej wersji SMK -->
                <Label Text="Dodatkowe pole 1:" />
                <Entry Text="{Binding OldSMKField1}" />

                <Label Text="Dodatkowe pole 2:" />
                <Entry Text="{Binding OldSMKField2}" />
            </StackLayout>

            <!-- Przyciski akcji -->
            <VerticalStackLayout Spacing="10" Margin="0,20,0,0">
                <Button Text="Zapisz" Command="{Binding SaveCommand}" IsEnabled="{Binding CanSave}" />
                <Button Text="Anuluj" Command="{Binding CancelCommand}" BackgroundColor="Gray" />
            </VerticalStackLayout>

            <!-- Wskaźnik aktywności -->
            <ActivityIndicator IsRunning="{Binding IsBusy}" IsVisible="{Binding IsBusy}" HorizontalOptions="Center" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>